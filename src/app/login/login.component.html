<div class="login-container">
  <div class="row no-gutters h-100">
    
    <!-- Columna Izquierda - Imagen completa -->
    <div class="col-xl-8 col-lg-7 col-md-7 d-none d-md-flex background-column">
      <!-- La imagen de fondo se maneja en CSS -->
    </div>

    <!-- Columna Derecha - Formulario -->
    <div class="col-xl-4 col-lg-5 col-md-5 col-12 form-column">
      <div class="form-container">
        <div class="form-content">
          
          <!-- Header -->
          <div class="text-center header-section">
            <h2 class="welcome-title">Bienvenido</h2>
            <!-- <p class="welcome-subtitle">Inicia sesión en tu cuenta</p> -->
          </div>

          <!-- Formulario de Login -->
          <form class="login-form" 
                [formGroup]="loginFormGroup" 
                #f="ngForm"
                (ngSubmit)="login()"
                novalidate>
            
            <!-- Campo Email -->
            <div class="form-group">
              <mat-form-field appearance="outline" class="w-100" color="primary">
                <mat-label>Email</mat-label>
                <input
                  matInput
                  id="email"
                  placeholder="Ingresa tu email"
                  formControlName="email"
                  required
                  type="email"
                  autocomplete="email"
                  [disabled]="isLoading"
                />
                <mat-error *ngIf="loginFormGroup.controls['email'].hasError('required') || loginFormGroup.controls['email'].hasError('maxLength')">
                  El email es requerido.
                </mat-error>
                <mat-error *ngIf="loginFormGroup.controls['email'].hasError('email')">
                  Por favor, introduce un email válido.
                </mat-error>
              </mat-form-field>
            </div>
            
            <!-- Campo Contraseña -->
            <div class="form-group">
              <mat-form-field appearance="outline" class="w-100" color="primary">
                <mat-label>Contraseña</mat-label>
                <input
                  matInput
                  id="password"
                  placeholder="Ingresa tu contraseña"
                  formControlName="password"
                  required
                  [type]="hidePassword ? 'password' : 'text'"
                  autocomplete="new-password"
                  [disabled]="isLoading"
                />
                <button
                  mat-icon-button
                  matSuffix
                  (click)="hidePassword = !hidePassword"
                  [attr.aria-label]="'Ocultar contraseña'"
                  [attr.aria-pressed]="hidePassword"
                  type="button"
                >
                  <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>

                <mat-error *ngIf="loginFormGroup.controls['password'].hasError('required')">
                  La contraseña es requerida.
                </mat-error>
                <mat-error *ngIf="loginFormGroup.controls['password'].hasError('invalidPassword') || loginFormGroup.controls['password'].hasError('minlength') || loginFormGroup.controls['password'].hasError('maxlength')">
                  Contraseña inválida.
                </mat-error>
              </mat-form-field>
            </div>
            
            <!-- Botón de Login -->
            <button 
              type="submit"
              class="login-button" 
              [class.loading]="isLoading"
              mat-flat-button 
              color="primary" 
              [disabled]="!loginFormGroup.valid || isLoading">
              <span *ngIf="!isLoading">Iniciar sesión</span>
              <span *ngIf="isLoading">Iniciando...</span>
            </button>
          </form>

          <!-- Link de Registro -->
          <div class="register-link">
            <span>¿Eres nuevo?</span>
            <a [routerLink]="['/register']" class="register-anchor">
              Regístrate
            </a>
          </div>

        </div>
        <button class="floating-button" (click)="openModal()">
          Ver desarrolladores
        </button>
        <app-modal-links *ngIf="isModalOpen" (close)="closeModal()"></app-modal-links>
      </div>
    </div>

  </div>
</div>

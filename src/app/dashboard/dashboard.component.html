<!-- <mat-card class="cardWithShadow">
    <mat-card-content>
        <mat-card-title>Número Total de Usuarios Activos</mat-card-title>
        <div class="row m-t-24">
            <div class="col-7">
                <h4 class="f-s-24">5</h4>
            </div>
        </div>
    </mat-card-content>
</mat-card> -->

@if (role === 'admin' || role === 'auditor') {
    <!-- cantidad de usuario -->
    <mat-card class="cardWithShadow overflow-hidden">
        <mat-card-content class="p-b-0">
            <div class="d-flex align-items-center m-b-8">
                <mat-card-title><h5>Total Usuarios</h5></mat-card-title>
                <div class="m-l-auto">
                    <button mat-fab class="icon-48 ">
                        <i-feather name="users" class="icon-20 d-flex align-items-center color-white"></i-feather>
                    </button>
                </div>
            </div>
            <h4 class="f-s-24 m-b-6">{{countUsers}}</h4>
            <!-- <div class="d-flex align-items-center m-t-32">
                <div class="d-flex align-items-center">
                     <mat-icon fontIcon="radio_button_checked" aria-label="2025" aria-hidden="false" class="text-accent d-flex"></mat-icon>
                     <div class="m-l-12 f-s-14">2025</div>
                </div>
            </div> -->
        </mat-card-content>
    </mat-card>

    <!-- cantidad de insumos al dia-->
    <mat-card class="cardWithShadow overflow-hidden">
        <mat-card-content class="p-b-0">
            <div class="d-flex align-items-center m-b-8">
                <!-- <mat-card-title><h5>Total de Insumos Médicos del Día</h5></mat-card-title> -->
                <mat-card-title><h5>Registros de Insumos Médicos (Hoy)</h5></mat-card-title>
                <div class="m-l-auto">
                    <button mat-fab class="icon-48  ">
                        <i-feather name="activity" class="icon-20 d-flex align-items-center color-white"></i-feather>
                    </button>
                </div>
            </div>
            <h4 class="f-s-24 m-b-6">{{countProductsOfTheDay}}</h4>
            <div class="d-flex align-items-center m-t-32">
                <div class="d-flex align-items-center">
                     <mat-icon fontIcon="radio_button_checked" aria-label="2025" aria-hidden="false" class="text-accent d-flex"></mat-icon>
                     <div class="m-l-12 f-s-14">{{ formatearFecha(getLocalDate(), null) }}</div>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
    <!-- cantidad de insumos mes-->
    <mat-card class="cardWithShadow overflow-hidden">
        <mat-card-content class="p-b-0">
            <div class="d-flex align-items-center m-b-8">
                <!-- <mat-card-title><h5>Total de Insumos Médicos del Mes</h5></mat-card-title> -->
                <mat-card-title><h5>Registros de Insumos Médicos (Mes)</h5></mat-card-title>
                <div class="m-l-auto">
                    <button mat-fab class="icon-48  ">
                        <i-feather name="briefcase" class="icon-20 d-flex align-items-center color-white"></i-feather>
                    </button>
                </div>
            </div>
            <h4 class="f-s-24 m-b-6">{{countProductsOfMonth}}</h4>
            <div class="d-flex align-items-center m-t-32">
                <div class="d-flex align-items-center">
                     <mat-icon fontIcon="radio_button_checked" aria-label="2025" aria-hidden="false" class="text-accent d-flex"></mat-icon>
                     <div class="m-l-12 f-s-14">{{ formatearFecha(getLocalDate(),'mes') }}</div>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
}

@if (this.role === 'almacen' || this.role === 'medico') {
    <!-- cantidad total de productos -->
    <mat-card class="cardWithShadow overflow-hidden">
        <mat-card-content class="p-b-0">
            <div class="d-flex align-items-center m-b-8">
                <!-- <mat-card-title><h5>Total de Insumos Médicos</h5></mat-card-title> -->
                <mat-card-title><h5>Registros de Insumos Médicos</h5></mat-card-title>
                <div class="m-l-auto">
                    <button mat-fab class="icon-48  ">
                        <i-feather name="users" class="icon-20 d-flex align-items-center color-white"></i-feather>
                    </button>
                </div>
            </div>
            <h4 class="f-s-24 m-b-6">{{countAllProducts}}</h4>
        </mat-card-content>
    </mat-card>
}

@if (this.role === 'admin' || this.role === 'almacen' || role === 'auditor') {
    <!-- cantidad de asignaciones de productos realizadas en el dia-->
    <mat-card class="cardWithShadow overflow-hidden">
        <mat-card-content class="p-b-0">
            <div class="d-flex align-items-center m-b-8">
                <!-- <mat-card-title><h5>Total de Salidas del Día</h5></mat-card-title> -->
                <mat-card-title><h5>Registros de Asignaciones (Hoy)</h5></mat-card-title>
                <div class="m-l-auto">
                    <button mat-fab class="icon-48  ">
                        <i-feather name="activity" class="icon-20 d-flex align-items-center color-white"></i-feather>
                    </button>
                </div>
            </div>
            <h4 class="f-s-24 m-b-6">{{countAssignmentOfTheDay}}</h4>
            <div class="d-flex align-items-center m-t-32">
                <div class="d-flex align-items-center">
                     <mat-icon fontIcon="radio_button_checked" aria-label="2025" aria-hidden="false" class="text-accent d-flex"></mat-icon>
                     <div class="m-l-12 f-s-14">{{ formatearFecha(getLocalDate(), null) }}</div>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
    <!-- cantidad de asignaciones de productos realizadas en el mes-->
    <mat-card class="cardWithShadow overflow-hidden">
        <mat-card-content class="p-b-0">
            <div class="d-flex align-items-center m-b-8">
                <!-- <mat-card-title><h5>Total de Salidas del Mes</h5></mat-card-title> -->
                <mat-card-title><h5>Registros de Asignaciones (Mes)</h5></mat-card-title>
                <div class="m-l-auto">
                    <button mat-fab class="icon-48  ">
                        <i-feather name="briefcase" class="icon-20 d-flex align-items-center color-white"></i-feather>
                    </button>
                </div>
            </div>
            <h4 class="f-s-24 m-b-6">{{countAssignmentOfMonth}}</h4>
            <div class="d-flex align-items-center m-t-32">
                <div class="d-flex align-items-center">
                     <mat-icon fontIcon="radio_button_checked" aria-label="2025" aria-hidden="false" class="text-accent d-flex"></mat-icon>
                     <div class="m-l-12 f-s-14">{{ formatearFecha(getLocalDate(),'mes') }}</div>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
}

@if (this.role === 'medico') {
    <!-- cantidad total de asignaciones -->
    <mat-card class="cardWithShadow overflow-hidden">
        <mat-card-content class="p-b-0">
            <div class="d-flex align-items-center m-b-8">
                <!-- <mat-card-title><h5>Total de Asignaciones</h5></mat-card-title> -->
                <mat-card-title><h5>Registros de Asignaciones</h5></mat-card-title>
                <div class="m-l-auto">
                    <button mat-fab class="icon-48 bg-primary ">
                        <i-feather name="users" class="icon-20 d-flex align-items-center color-white"></i-feather>
                    </button>
                </div>
            </div>
            <h4 class="f-s-24 m-b-6">{{countAllAssignments}}</h4>
        </mat-card-content>
    </mat-card>
}

<!-- Dashboard nuevos -->
<!--     <mat-card class="cardWithShadow overflow-hidden">
        <mat-card-content class="p-b-0">
            <div class="d-flex align-items-center m-b-8">
                <mat-card-title><h5>Total Uniformes </h5></mat-card-title>
            </div>
            Disponibles <h6 class="f-s-24 m-b-6">{{0}}</h6>
            Asignados <h6 class="f-s-24 m-b-6">{{0}}</h6>
        </mat-card-content>
    </mat-card> -->
@if((this.role === 'admin' || this.role === 'almacen') && getAccumulatedProductsStockByType && getAccumulatedAssignmentsByType){
        <mat-card class="cardWithShadow overflow-hidden">
            <mat-card-content class="p-b-0">
                <div class="d-flex align-items-center m-b-8">
                    <mat-card-title><h5>Total Medicamentos Disponibles</h5></mat-card-title>
                </div>
                <h4 class="f-s-24 m-b-6">{{getAccumulatedProductsStockByType.sum_medicamentos}}</h4>
            </mat-card-content>
        </mat-card>
        <mat-card class="cardWithShadow overflow-hidden">
            <mat-card-content class="p-b-0">
                <div class="d-flex align-items-center m-b-8">
                    <mat-card-title><h5>Total Medicamentos Asignados</h5></mat-card-title>
                </div>
                <h4 class="f-s-24 m-b-6">{{getAccumulatedAssignmentsByType.sumAsig_medicamentos }}</h4>
            </mat-card-content>
        </mat-card>

        <mat-card class="cardWithShadow overflow-hidden">
           <mat-card-content class="p-b-0">
               <div class="d-flex align-items-center m-b-8">
                   <mat-card-title><h5>Total Uniformes Disponibles</h5></mat-card-title>
               </div>
               <h4 class="f-s-24 m-b-6">{{getAccumulatedProductsStockByType.sum_uniformes}}</h4>
           </mat-card-content>
       </mat-card> 
       <mat-card class="cardWithShadow overflow-hidden">
          <mat-card-content class="p-b-0">
              <div class="d-flex align-items-center m-b-8">
                  <mat-card-title><h5>Total Uniformes Asignados</h5></mat-card-title>
              </div>
              <h4 class="f-s-24 m-b-6">{{getAccumulatedAssignmentsByType.sumAsig_uniformes}}</h4>
          </mat-card-content>
      </mat-card> 

      <mat-card class="cardWithShadow overflow-hidden">
          <mat-card-content class="p-b-0">
              <div class="d-flex align-items-center m-b-8">
                  <mat-card-title><h5>Total Equipos Odontológicos Disponibles</h5></mat-card-title>
              </div>
              <h4 class="f-s-24 m-b-6">{{getAccumulatedProductsStockByType.sum_equiposOdontologicos}}</h4>
          </mat-card-content>
      </mat-card>
      <mat-card class="cardWithShadow overflow-hidden">
          <mat-card-content class="p-b-0">
              <div class="d-flex align-items-center m-b-8">
                  <mat-card-title><h5>Total Equipos Odontológicos Asignados</h5></mat-card-title>
              </div>
              <h4 class="f-s-24 m-b-6">{{getAccumulatedAssignmentsByType.sumAsig_equiposOdontologicos}}</h4>
          </mat-card-content>
      </mat-card>
    }
<!-- Dashboard nuevos -->

<!-- vencimiento de insumos -->
 @if(getExpiredProductsCount){
      <mat-card class="cardWithShadow overflow-hidden cursor_pointer" (click)="navigate('/expired-medical-supplies')">
          <mat-card-content class="p-b-0">
              <div class="d-flex align-items-center m-b-8">
                  <mat-card-title><h5>Insumos Médicos Próximos a Vencer</h5></mat-card-title>
                  <div class="m-l-auto">
                     <button mat-fab class="icon-48 bg-error ">
                         <i-feather name="alert-triangle" class="icon-20 d-flex align-items-center color-white"></i-feather>
                     </button>
                 </div>
              </div>
              <h4 class="f-s-24 m-b-6">{{getExpiredProductsCount}}</h4>
          </mat-card-content>
      </mat-card> 
 }

<!--       <mat-card class="cardWithShadow overflow-hidden cursor_pointer" (click)="navigate('/expired-medical-supplies')">
         <mat-card-content class="p-b-0">
             <div class="d-flex align-items-center m-b-8">
                 <mat-card-title><h5>Insumos Médicos Próximos a Vencer</h5></mat-card-title>
                 <br>
     
                 <div class="m-l-auto">
                     <button mat-fab class="icon-48 bg-error ">
                         <i-feather name="alert-triangle" class="icon-20 d-flex align-items-center color-white"></i-feather>
                     </button>
                 </div>
             </div>
             <h4 class="f-s-24 m-b-6">{{getExpiredProductsCount}}</h4>
             <div class="d-flex align-items-center m-t-32">
                 <div class="d-flex align-items-center">
                     <i-feather name="calendar" class="text-error d-flex"></i-feather>
                      <div class="m-l-12 f-s-14">En 0 días</div>
                 </div>
             </div>
     
         </mat-card-content>
     </mat-card> -->